<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Juego para Biolog√≠a</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #a8edea, #fed6e3);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }

  #game-container {
    background: white;
    border-radius: 20px;
    padding: 30px;
    text-align: center;
    width: 90%;
    max-width: 600px;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    position: relative;
  }

  h1 {
    color: #3c3c3c;
  }

  .btn {
    background-color: #4CAF50;
    color: white;
    border: none;
    padding: 12px 24px;
    font-size: 18px;
    border-radius: 10px;
    cursor: pointer;
    margin: 10px;
  }

  .btn:hover {
    background-color: #45a049;
  }

  .option {
    display: block;
    background: #f1f1f1;
    border: 2px solid transparent;
    margin: 8px 0;
    padding: 10px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
  }

  .option:hover {
    background: #d4ffd6;
  }

  #question-img {
    width: 100%;
    max-height: 250px;
    object-fit: contain;
    margin: 10px 0;
    border-radius: 10px;
  }

  #feedback {
    font-weight: bold;
    margin-top: 10px;
  }

  /* Bot√≥n de m√∫sica en esquina superior derecha */
  #musicBtn {
    position: fixed;
    top: 15px;
    right: 15px;
    background: rgba(255,255,255,0.8);
    color: #333;
    border: none;
    font-size: 20px;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    cursor: pointer;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
  }

  #musicBtn:hover {
    background: #f5f5f5;
  }
</style>
</head>
<body>

<!-- Bot√≥n de m√∫sica -->
<button id="musicBtn">üîä</button>

<div id="game-container">
  <h1 id="title">Juego para Biolog√≠a</h1>
  <button id="playBtn" class="btn">Play</button>
  <div id="question-container" style="display:none;">
    <h2 id="question-text"></h2>
    <img id="question-img" src="" alt="" style="display:none;">
    <div id="options"></div>
    <div id="feedback"></div>
    <button id="nextBtn" class="btn" style="display:none;">Siguiente</button>
  </div>
</div>

<!-- üéµ M√∫sica de fondo -->
<audio id="bg-music" 
  src="https://www.bensound.com/bensound-music/bensound-sunny.mp3" 
  autoplay loop></audio>

<script>
const questions = [
  {
    text: "¬øCu√°l es la funci√≥n principal de los test√≠culos?",
    options: ["Producir espermatozoides y testosterona", "Fabricar √≥vulos", "Regular la temperatura corporal", "Almacenar orina"],
    correct: 0,
    image: "" // Imagen 1 ‚Üí Aparato reproductor masculino
  },
  {
    text: "¬øEn qu√© √≥rgano se produce la fecundaci√≥n normalmente?",
    options: ["√ötero", "Trompas de Falopio", "Ovario", "Vagina"],
    correct: 1,
    image: "" // Imagen 2 ‚Üí Fecundaci√≥n
  },
  {
    text: "¬øQu√© estructura transporta los espermatozoides desde el epid√≠dimo hasta la uretra?",
    options: ["Conducto deferente", "Ves√≠cula seminal", "Pr√≥stata", "Uretra"],
    correct: 0,
    image: "" // Imagen 3 ‚Üí Aparato masculino
  },
  {
    text: "¬øD√≥nde se desarrolla el embri√≥n despu√©s de la fecundaci√≥n?",
    options: ["Ovario", "Trompas de Falopio", "√ötero", "Vagina"],
    correct: 2,
    image: "" // Imagen 4 ‚Üí Aparato femenino
  },
  {
    text: "¬øQu√© c√©lula del aparato reproductor femenino se une con el espermatozoide?",
    options: ["√ìvulo", "Cigoto", "Embri√≥n", "Fol√≠culo"],
    correct: 0,
    image: "" // Imagen 5 ‚Üí Fecundaci√≥n
  },
  {
    text: "¬øQu√© gl√°ndula produce un l√≠quido que nutre a los espermatozoides?",
    options: ["Pr√≥stata", "H√≠gado", "P√°ncreas", "Tiroides"],
    correct: 0,
    image: "" // Imagen 6 ‚Üí Pr√≥stata
  },
  {
    text: "¬øCu√°l de las siguientes estructuras produce √≥vulos?",
    options: ["Ovarios", "√ötero", "Trompas de Falopio", "Vagina"],
    correct: 0,
    image: "" // Imagen 7 ‚Üí Ovarios
  },
  {
    text: "¬øQu√© parte del aparato reproductor femenino conecta el √∫tero con el exterior?",
    options: ["Ovario", "Vagina", "C√©rvix", "Trompas de Falopio"],
    correct: 1,
    image: "" // Imagen 8 ‚Üí Aparato femenino
  },
  {
    text: "¬øC√≥mo se llama la uni√≥n del espermatozoide con el √≥vulo?",
    options: ["Implantaci√≥n", "Fecundaci√≥n", "Menstruaci√≥n", "Ovulaci√≥n"],
    correct: 1,
    image: "" // Imagen 9 ‚Üí Fecundaci√≥n
  },
  {
    text: "¬øD√≥nde se almacenan temporalmente los espermatozoides antes de ser expulsados?",
    options: ["Epid√≠dimo", "Ves√≠culas seminales", "Pr√≥stata", "Pene"],
    correct: 0,
    image: "" // Imagen 10 ‚Üí Aparato masculino
  }
];

let shuffledQuestions = [];
let currentQuestionIndex = 0;
let score = 0;

const playBtn = document.getElementById("playBtn");
const questionContainer = document.getElementById("question-container");
const questionText = document.getElementById("question-text");
const questionImg = document.getElementById("question-img");
const optionsDiv = document.getElementById("options");
const feedback = document.getElementById("feedback");
const nextBtn = document.getElementById("nextBtn");
const music = document.getElementById("bg-music");
const musicBtn = document.getElementById("musicBtn");

playBtn.addEventListener("click", startGame);
nextBtn.addEventListener("click", nextQuestion);
musicBtn.addEventListener("click", toggleMusic);

function startGame() {
  playBtn.style.display = "none";
  shuffledQuestions = [...questions].sort(() => Math.random() - 0.5);
  currentQuestionIndex = 0;
  score = 0;
  questionContainer.style.display = "block";
  showQuestion();
}

function showQuestion() {
  feedback.textContent = "";
  nextBtn.style.display = "none";
  const currentQuestion = shuffledQuestions[currentQuestionIndex];
  questionText.textContent = currentQuestion.text;
  optionsDiv.innerHTML = "";

  // Mostrar imagen si hay
  if (currentQuestion.image) {
    questionImg.src = currentQuestion.image;
    questionImg.style.display = "block";
  } else {
    questionImg.style.display = "none";
  }

  currentQuestion.options.forEach((option, index) => {
    const btn = document.createElement("div");
    btn.textContent = option;
    btn.classList.add("option");
    btn.onclick = () => selectOption(index, currentQuestion.correct);
    optionsDiv.appendChild(btn);
  });
}

function selectOption(selectedIndex, correctIndex) {
  const allOptions = document.querySelectorAll(".option");
  allOptions.forEach(opt => opt.style.pointerEvents = "none");

  if (selectedIndex === correctIndex) {
    feedback.textContent = "‚úÖ ¬°Correcto!";
    feedback.style.color = "green";
    score++;
  } else {
    feedback.textContent = "‚ùå Incorrecto";
    feedback.style.color = "red";
  }
  nextBtn.style.display = "block";
}

function nextQuestion() {
  currentQuestionIndex++;
  if (currentQuestionIndex < shuffledQuestions.length) {
    showQuestion();
  } else {
    endGame();
  }
}

function endGame() {
  const total = shuffledQuestions.length;
  const percentage = Math.round((score / total) * 100);
  questionContainer.innerHTML = `
    <h2>üéâ ¬°Juego completado!</h2>
    <p>Acertaste <strong>${score}</strong> de <strong>${total}</strong> preguntas.</p>
    <h3>Tu puntaje: ${percentage}%</h3>
    <button class="btn" onclick="location.reload()">Jugar otra vez</button>
  `;
}

// üéµ Control del sonido
function toggleMusic() {
  if (music.paused) {
    music.play();
    musicBtn.textContent = "üîä";
  } else {
    music.pause();
    musicBtn.textContent = "üîà";
  }
}
</script>
</body>
      </html>
